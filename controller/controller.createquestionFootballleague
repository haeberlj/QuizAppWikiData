<?php
		





	}elseif ($kat=="16"){
	// Kategorie Sport
	

		

		$url = https://query.wikidata.org/#%0A%23Liga%0ASELECT%20distinct%20%3Ffootballleague%20%3FfootballleagueLabel%20%3Fcountry%20%3FcountryLabel%20%3FleaguelevelaboveLabel%20%3FleaguelevelbelowLabel%20%3FnumberofparticipantsLabel%20%3FseasonstartLabel%20where%20%7B%0A%20%20%3Ffootballleague%20wdt%3AP31%20wd%3AQ15991303%20.%0A%20%20%20%0A%20%20%20%3Ffootballleague%20wdt%3AP17%20%3Fcountry%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20wdt%3AP2499%20%3Fleaguelevelabove%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20wdt%3AP2500%20%3Fleaguelevelbelow%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20wdt%3AP1132%20%3Fnumberofparticipants%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20wdt%3AP4794%20%3Fseasonstart%3B%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20SERVICE%20wikibase%3Alabel%20%7B%0A%20%20%20%20bd%3AserviceParam%20wikibase%3Alanguage%20%22en%22%20.%0A%0A%20%20%7D%0A%7D%20ORDER%20BY%20%3Ffootballleague%0A%0ALimit%20100

	

		
		
		$string = file_get_contents($url);
		$json_result = json_decode($string, true);
		
		
		
		$results = $json_result['results'];
		$bindingsarray = $results['bindings'];
		
		for ($i = 1; $i <= count($bindingsarray); $i++) {
		    
		$bindings = $results['bindings'][$i] ; 
		$footballleagueLabel = $bindings['footballleagueLabel'];
		$footballleague = $footballleagueLabel ['value'];
		
		$bindings = $results['bindings'][$i] ; 
		$countryLabel = $bindings['countryLabel'];
		$country = $ countryLabel ['value'];
		
		$bindings = $results['bindings'][$i] ; 
		$leaguelevelaboveLabel = $bindings['leaguelevelaboveLabel'];
		$leaguelebelabove = $leaguelevelaboveLabel ['value'];
		
		$bindings = $results['bindings'][$i] ; 
		$leaguelevelbelowLabel = $bindings['leaguelevelbelowLabel'];
		$leaguelevelbelow = $leaguelevelbelowLabel ['value'];
		



		
		$bindings = $results['bindings'][$i] ; 
		$numberofparticipantsLabel = $bindings['numberofparticipantsLabel'];
		$numberofparticipants = $numberofparticipantsLabel ['value'];
		

		$bindings = $results['bindings'][$i] ; 
		$seasonstartLabel = $bindings['seasonstartLabel'];
		$seasonstart = $seasonstartLabel ['value'];
	

		
		$meinefrage ="Die $footballleague gehört zu welchem Land?";
		$meinekat =$kat;
		$meineAntwort =$country;
		$falscheAntwort ="";
		$falscheAntwortlabel ='countryLabel';
		createmyquestion($meinefrage, $meinekat, $meineAntwort, $falscheAntwort,$falscheAntwortlabel,$results,$bindingsarray);
		
		$meinefrage ="Welche Liga befindet sich unter der $footballleague?";
		$meinekat =$kat;
		$meineAntwort =$leaguelevelbelow;
		$falscheAntwort ="";
		$falscheAntwortlabel ='leaguelevelbelowLabel';
		createmyquestion($meinefrage, $meinekat, $meineAntwort, $falscheAntwort,$falscheAntwortlabel,$results,$bindingsarray);

		
		$meinefrage ="Welche Liga befindet sich über der $footballleague?";
		$meinekat =$kat;
		$meineAntwort =$leaguelevelabove;
		$falscheAntwort ="";
		$falscheAntwortlabel ='leaguelevelaboveLabel';
		createmyquestion($meinefrage, $meinekat, $meineAntwort, $falscheAntwort,$falscheAntwortlabel,$results,$bindingsarray);
		
		$meinefrage ="Wie viele Mannschaften spielen in der $footballleague?";
		$meinekat =$kat;
		$meineAntwort =$numberofparticipants;
		$falscheAntwort ="";
		$falscheAntwortlabel ='numberofparticipantsLabel';
		createmyquestion($meinefrage, $meinekat, $meineAntwort, $falscheAntwort,$falscheAntwortlabel,$results,$bindingsarray);
		
		$meinefrage ="Wann startet die Saison der $footballleague?";
	$meinekat =$kat;
	$meineAntwort =$seasonstart;
	$falscheAntwort ="";
	$falscheAntwortlabel ='seasonstartLabel';
	createmyquestion($meinefrage, $meinekat, $meineAntwort, $falscheAntwort,$falscheAntwortlabel,$results,$bindingsarray);

		

}
		
		
		
		
		function createmyquestion($meinefrage, $meinekat, $meineAntwort, $falscheAntwort,$falscheAntwortlabel,$results,$bindingsarray) {
		
		$frage=new Frage;
		$frage->beschreibung = $meinefrage;
		$frage->Kategorie = $meinekat;
		$frage->antwortzeit = 10;
		$frage->create(); // gibt Im Idealfall eingegebene ID zurück, sonst 0/false
		
		
		$antwort=new Antwort;
		$antwort->Antworttext=$meineAntwort;
		$antwort->korrekt=1;
		$antwort->to_Frage = $frage->m_oid;  
		$antwort->create();
		
		do { 
		 $bindings = $results['bindings'][rand(0, count($bindingsarray))] ; 
		 $erstA = $bindings[$falscheAntwortlabel];
		$erstA=$erstA['value']; 
		 } 
		 while ($erstA ==$meineAntwort);
		 
		 
		 do {
		 $bindings = $results['bindings'][rand(0, count($bindingsarray))] ; 
		 $zweitA = $bindings[$falscheAntwortlabel];
		 $zweitA =$zweitA ['value'];
		  } 
		 while (($erstA ==$zweitA)AND ($zweitA==$meineAntwort));
		 
		 do {
		 $bindings = $results['bindings'][rand(0, count($bindingsarray))] ; 
		 $drittA = $bindings[$falscheAntwortlabel];
		 $drittA=$drittA['value'];
		
		} while (($drittA ==$zweitA)AND ($drittA==$meineAntwort)AND($drittA ==$erstA));
		
		$falscheAntwort =[
		    0 => $erstA,
		     1 =>$zweitA,
		     2 =>$drittA];
		
		
		for ($i = 0; $i < 3; $i++) { 
		 
		    










		
		$antwort->Antworttext=$falscheAntwort[$i];
		$antwort->korrekt=0;
		$antwort->to_Frage = $frage->m_oid;  
		$antwort->create();
		} 
		
		};
		
