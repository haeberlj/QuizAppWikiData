<?php
		





	}elseif ($kat=="16"){
	// Kategorie Sport
	

		

		$url = https://query.wikidata.org/#%0A%23Sportsteam%0ASELECT%20distinct%20%3Fsportsteam%20%3FsportsteamLabel%20%3FcountryLabel%20%3FhomevenueLabel%20%3FleagueLabel%20%3FheadcoachLabel%20%3FcaptainLabel%20where%20%7B%0A%20%20%3Fsportsteam%20wdt%3AP31%20wd%3AQ15944511.%0A%20%20%0A%20%20%3Fsportsteam%20wdt%3AP17%20%3Fcountry%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20wdt%3AP115%20%3Fhomevenue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20wdt%3AP118%20%3Fleague%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20wdt%3AP286%20%3Fheadcoach%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20SERVICE%20wikibase%3Alabel%20%7B%0A%20%20%20%20bd%3AserviceParam%20wikibase%3Alanguage%20%22de%22%20.%0A%0A%20%20%7D%0A%7D%20ORDER%20BY%20%3FsportsteamLabel%0A%0ALimit%20100

	

		
		
		$string = file_get_contents($url);
		$json_result = json_decode($string, true);
		
		
		
		$results = $json_result['results'];
		$bindingsarray = $results['bindings'];
		
		for ($i = 1; $i <= count($bindingsarray); $i++) {
		    
		$bindings = $results['bindings'][$i] ; 
		$sportsteamLabel = $bindings['sportsteamLabel'];
		$sportsteam = $sportsteamLabel ['value'];
		
		$bindings = $results['bindings'][$i] ; 
		$countryLabel = $bindings['countryLabel'];
		$country = $ countryLabel ['value'];
		
		$bindings = $results['bindings'][$i] ; 
		$homevenueLabel = $bindings['homevenueLabel'];
		$homevenue = $homevenueLabel ['value'];
		
		$bindings = $results['bindings'][$i] ; 
		$leagueLabel = $bindings['leagueLabel'];
		$league = $leagueLabel ['value'];
	
		
		$bindings = $results['bindings'][$i] ; 
		$headcoachLabel = $bindings['headcoachLabel'];
		$headcoach = $headcoachLabel ['value'];
		
		
		$meinefrage ="$sportsteam spielt in welchem Land?";
		$meinekat =$kat;
		$meineAntwort =$country;
		$falscheAntwort ="";
		$falscheAntwortlabel ='countryLabel';
		createmyquestion($meinefrage, $meinekat, $meineAntwort, $falscheAntwort,$falscheAntwortlabel,$results,$bindingsarray);
		
		$meinefrage ="Was ist das Heimatstadion von $sportsteam?";
		$meinekat =$kat;
		$meineAntwort =$homevenue;
		$falscheAntwort ="";
		$falscheAntwortlabel ='homevenueLabel';
		createmyquestion($meinefrage, $meinekat, $meineAntwort, $falscheAntwort,$falscheAntwortlabel,$results,$bindingsarray);
		
		
		$meinefrage ="In welcher Liga spielt $sportsteam?";
		$meinekat =$kat;
		$meineAntwort =$league;
		$falscheAntwort ="";
		$falscheAntwortlabel ='leagueLabel';
		createmyquestion($meinefrage, $meinekat, $meineAntwort, $falscheAntwort,$falscheAntwortlabel,$results,$bindingsarray);
		
		$meinefrage ="Wer ist der Trainer von $sportsteam?";
		$meinekat =$kat;
		$meineAntwort =$headcoach;
		$falscheAntwort ="";
		$falscheAntwortlabel ='headcoachLabel';
		createmyquestion($meinefrage, $meinekat, $meineAntwort, $falscheAntwort,$falscheAntwortlabel,$results,$bindingsarray);
		
	
		

}
		
		
		
		
		function createmyquestion($meinefrage, $meinekat, $meineAntwort, $falscheAntwort,$falscheAntwortlabel,$results,$bindingsarray) {
		
		$frage=new Frage;
		$frage->beschreibung = $meinefrage;
		$frage->Kategorie = $meinekat;
		$frage->antwortzeit = 10;
		$frage->create(); // gibt Im Idealfall eingegebene ID zurÃ¼ck, sonst 0/false
		
		
		$antwort=new Antwort;
		$antwort->Antworttext=$meineAntwort;
		$antwort->korrekt=1;
		$antwort->to_Frage = $frage->m_oid;  
		$antwort->create();
		
		do { 
		 $bindings = $results['bindings'][rand(0, count($bindingsarray))] ; 
		 $erstA = $bindings[$falscheAntwortlabel];
		$erstA=$erstA['value']; 
		 } 
		 while ($erstA ==$meineAntwort);
		 
		 
		 do {
		 $bindings = $results['bindings'][rand(0, count($bindingsarray))] ; 
		 $zweitA = $bindings[$falscheAntwortlabel];
		 $zweitA =$zweitA ['value'];
		  } 
		 while (($erstA ==$zweitA)AND ($zweitA==$meineAntwort));
		 
		 do {
		 $bindings = $results['bindings'][rand(0, count($bindingsarray))] ; 
		 $drittA = $bindings[$falscheAntwortlabel];
		 $drittA=$drittA['value'];
		
		} while (($drittA ==$zweitA)AND ($drittA==$meineAntwort)AND($drittA ==$erstA));
		
		$falscheAntwort =[
		    0 => $erstA,
		     1 =>$zweitA,
		     2 =>$drittA];
		
		
		for ($i = 0; $i < 3; $i++) { 
		 

		
		$antwort->Antworttext=$falscheAntwort[$i];
		$antwort->korrekt=0;
		$antwort->to_Frage = $frage->m_oid;  
		$antwort->create();
		} 
		
		};
		
